<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Panel</title>
  <link rel="stylesheet" href="user.css" />
  <script defer src="user.js"></script>
</head>
<body>
  <header class="header">
    <div class="logo">
      <h1 class="logo-text">NEPNEWS</h1>
    </div>
    <div class="top-bar">
      <div class="left-section">
        <div class="icons">
          <span class="profile-icon">üë§</span>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="sidebar" id="sidebar">
            <ul id="admin-menu">
                <!-- <li data-link="homepage.html">Dashboard</li> -->
                <li data-link="user.html">Manage Users</li>
                <li data-link="articles.html">Manage Articles</li>
                <li data-link="ads.html">Manage Ads</li>
            </ul>
        </div>
   
<script>
        const menuItems = document.querySelectorAll('#admin-menu li');
        menuItems.forEach(item => {
            item.style.cursor = "pointer";
            item.addEventListener('click', () => {
                const link = item.getAttribute('data-link');
                window.location.href = link;
            });
        });
    </script>
    <div class="main-content">
      <div class="tab-search-container">
        <div class="tab-section">
          <div class="tabs">
            <div class="tab" data-page="user.html">Authors</div>
            <div class="tab active" data-page="user2.html">Editors</div>
            <div class="tab" data-page="user3.html">Ad's managers</div>
          </div>
        </div>
        <div class="sidebar-search">
          <input type="text" id="sidebarSearchInput" placeholder="Search..." />
          <button onclick="handleSidebarSearch()">üîç</button>
        </div>
        <div class="sort" onclick="openModal()">Add +</div>
      </div>

      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Email Address</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <!-- User data rows will be inserted here -->
        </tbody>
      </table>
    </div>
  </div>

  <!-- Add User Modal -->
  <div id="addUserModal" class="modal hidden">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">√ó</span>
      <h2>Add New User</h2>
      <label for="nameInput">Name:</label>
      <input type="text" id="nameInput" placeholder="Enter name" required />
      <label for="emailInput">Email:</label>
      <input type="email" id="emailInput" placeholder="Enter email" required />
      <label for="passwordInput">Generated Password:</label>
     <input type="text" id="passwordInput" placeholder="Enter Password" required />
      <button onclick="submitUser()">Submit</button>
    </div>
  </div>
  <script>
    // // Tab navigation
    // const tabs = document.querySelectorAll(".tab");
    // tabs.forEach(tab => {
    //   tab.addEventListener("click", () => {
    //     const page = tab.getAttribute("data-page");
    //     if (page) window.location.href = page;
    //   });
    // });

    // // Modal handlers
    // function openModal() {
    //   document.getElementById("addUserModal").classList.remove("hidden");
    // }

    // function closeModal() {
    //   document.getElementById("addUserModal").classList.add("hidden");
    // }

    // // Random password generator
    // function generatePassword(length = 10) {
    //   const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$!';
    //   return Array.from({ length }, () => chars[Math.floor(Math.random() * chars.length)]).join('');
    // }

    // // Submit new user
    // function submitUser() {
    //   const name = document.getElementById("nameInput").value.trim();
    //   const email = document.getElementById("emailInput").value.trim();
    //   const password = generatePassword();

    //   const activeTab = document.querySelector(".tab.active").textContent.trim().toLowerCase();
    //   let role = "";
    //   if (activeTab.includes("author")) role = "author";
    //   else if (activeTab.includes("editor")) role = "editor";
    //   else if (activeTab.includes("ad")) role = "ad_manager";

    //   fetch("/api/addUser", {
    //     method: "POST",
    //     headers: { "Content-Type": "application/json" },
    //     body: JSON.stringify({ name, email, password, role })
    //   })
    //   .then(response => response.json())
    //   .then(data => {
    //     alert(`User created!\nName: ${name}\nEmail: ${email}\nPassword: ${password}`);
    //     closeModal();
    //     location.reload(); // Optional: Refresh to show changes
    //   })
    //   .catch(error => {
    //     alert("Error creating user");
    //     console.error(error);
    //   });
    // }

    // // Dummy search handler (optional)
    // function handleSidebarSearch() {
    //   const query = document.getElementById("sidebarSearchInput").value;
    //   alert("Search for: " + query);
    // }
  </script>
  <script src="user.js"></script>
</body>
</html>
